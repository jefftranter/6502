ca65 V2.19 - Git dbcfa9108
Main file   : program3.s
Current file: program3.s

000000r 1               ; Program Module #3
000000r 1               
000000r 1               .INCLUDE        "pagezero.s"
000000r 2               ; Page zero addresses
000000r 2               
000000r 2               DCDLO   =       $00             ; Application Address Low
000000r 2               DCDHI   =       $03             ; Application Address High
000000r 2               
000000r 2               PARAM0  =       $B0             ; Parameter 0 is usually the COMMAND CODE
000000r 2               PARAM1  =       $B1             ; Parameter 1 is usually DATA
000000r 2               PARAM2  =       $B2             ; Parameter 2 is usually DATA
000000r 2               PARAM3  =       $B3             ; Parameter 3 is usually DATA
000000r 2               ADRLO   =       $B4             ; Low Address pointer for Indirect Address
000000r 2               ADRHI   =       $B5             ; High Address pointer for Indirect Address
000000r 2               PNTR    =       $B6             ; Temporary Pointer Storage
000000r 2               STEPNO  =       $B7             ; Number of NEXT PLEASE Step
000000r 2               STEPLO  =       $B8             ; Low Address of Current PLEASE Step
000000r 2               STEPHI  =       $B9             ; High Address of Current PLEASE Step
000000r 2               TRANLO  =       $BA             ; Temporary Transfer Pointer to PLEASE Function
000000r 2               TRANHI  =       $BB             ; Temporary Transfer Pointer to PLEASE Function
000000r 2               PLACE   =       $BB             ; Alternate name
000000r 2               FUNTBL  =       $BC             ; Low Address of PLEASE Function Table
000000r 2               FUNTBH  =       $BD             ; High Address of PLEASE Function Table
000000r 2               PTEMP0  =       $BE             ; PLEASE Temporary Storage
000000r 2               PTEMP1  =       $BF             ; PLEASE Temporary Storage
000000r 2               TEMP1   =       PTEMP0
000000r 2               TEMP2   =       PTEMP1
000000r 2               
000000r 2               THOUS   =       $C0             ; Thousands and Tens of Thousands of Seconds
000000r 2               TENS    =       $C1             ; Tens and Hundreds of Seconds
000000r 2               TENTHS  =       $C2             ; Tenths and Seconds
000000r 2               MILLI   =       $C3             ; Thousandths and hundredths of Seconds
000000r 2               HOUR    =       $C4             ; Hour portion of 24 Hour Clock
000000r 2               MINUTE  =       $C5             ; Minute portion of 24 Hour Clock
000000r 2               SECOND  =       $C6             ; Second portion of 24 Hour Clock
000000r 2               ONESEC  =       $C7             ; Counter for One Second
000000r 2               
000000r 2               DSP0    =       $C8             ; Display position 0 (Leftmost Digit)
000000r 2               DSP1    =       $C9             ; Display position 1
000000r 2               DSP2    =       $CA             ; Display position 2
000000r 2               DSP3    =       $CB             ; Display position 3
000000r 2               DSP4    =       $CC             ; Display position 4
000000r 2               DSP5    =       $CD             ; Display position 5 (Rightmost Digit)
000000r 2               DSPLO   =       $CE             ; Low Address of Display Buffer (Usually = DSP0 = C8)
000000r 2               DSPHI   =       $CF             ; High Address of Display Buffer (Usually = DSP0 = 00)
000000r 2               
000000r 2               DCONLO  =       $D0             ; Display Conversion Table Low Address
000000r 2               DCONHI  =       $D1             ; Display Conversion Table High Address
000000r 2               DTABLO  =       DCONLO
000000r 2               DTABHI  =       DCONHI
000000r 2               HEXDEC  =       HEXLO
000000r 2               HEXLO   =       $D2             ; Hexadecimal (and Decimal) Conversion Table Low Address = E7
000000r 2               HEXHI   =       $D3             ; Hexadecimal (and Decimal) Conversion Table High Address = 1F
000000r 2               ALPHLO  =       $D4             ; Alphabetic Conversion Table Low Address (usually = F0)
000000r 2               ALPHHI  =       $D5             ; Alphabetic Conversion Table High Address (usually = 03)
000000r 2               XTABLE  =       $D6             ; Used by Conversion Routine to Point to HEX or ALPHA Table
000000r 2               TEMP    =       $D7             ; General Purpose Temporary Save Location
000000r 2               LIMIT   =       $D8             ; Uses by Conversion Routine.  General Purposes Register
000000r 2               DSPPOS  =       $D9             ; Executive Pointer to Current Display Position
000000r 2               CURPNT  =       $DA             ; Used by Input Routines as Current Data Pointer.
000000r 2               CHAR    =       $DB             ; Save location for Input Character
000000r 2               CTABLO  =       $DC             ; Command Table Low Address (usually = A0)
000000r 2               CTABHI  =       $DD             ; Command Table High Address (usually = 00)
000000r 2               KEYTST  =       $DE             ; Used by Executive as part of Keyboard Input
000000r 2               KEYVAL  =       $DF             ; Contains Last Character if Input String
000000r 2               
000000r 2               BUF0    =       $E0             ; General Purpose Buffer
000000r 2               BUF1    =       $E1
000000r 2               BUF2    =       $E2
000000r 2               BUF3    =       $E3
000000r 2               BUF4    =       $E4
000000r 2               BUF5    =       $E5
000000r 2               
000000r 2               ALT0    =       $E6             ; Alternate General Purposes Buffer
000000r 2               ALT1    =       $E7
000000r 2               ALT2    =       $E8
000000r 2               ALT3    =       $E9
000000r 2               ALT4    =       $EA
000000r 2               ALT5    =       $EB
000000r 2               
000000r 2               APL0    =       $EC             ; Application General Registers
000000r 2               APL1    =       $ED
000000r 2               APL2    =       $EE
000000r 2               
000000r 1               
000000r 1               ; Please command codes
000000r 1               
000000r 1               ALPIN   =       $00
000000r 1               DECODE  =       $00
000000r 1               DECIN   =       $02
000000r 1               DECOUT  =       $04
000000r 1               HEXOUT  =       $04
000000r 1               TIMER   =       $05
000000r 1               PLUS    =       $05
000000r 1               PACK    =       $06
000000r 1               UNPACK  =       $07
000000r 1               READY   =       $07
000000r 1               BRANCH  =       $08
000000r 1               BRCHAR  =       $09
000000r 1               BRTABL  =       $0A
000000r 1               FILL    =       $0B
000000r 1               BLANK   =       $0B
000000r 1               MATCH   =       $0D
000000r 1               ACCEPT  =       $0D
000000r 1               START   =       $10
000000r 1               GO      =       $13
000000r 1               NO      =       $18
000000r 1               DASH    =       $40
000000r 1               ZERO    =       $52
000000r 1               DISPLAY =       $C8
000000r 1               CMDTBL  =       $DC
000000r 1               BUFFER  =       $E0
000000r 1               GUESS   =       $E6
000000r 1               
000000r 1                       .ORG    $0000
000000  1               
000000  1               ;               COMMAND  PARAM1   PARAM2  PARAM3
000000  1               
000000  1               ; Command Decoder
000000  1  00 E0 00 05          .BYTE   ALPIN,   BUFFER,    0,        5
000004  1  06 E0 DF 01          .BYTE   PACK,    BUFFER,    KEYVAL,   1
000008  1  0B C8 00 06          .BYTE   FILL,    DISPLAY,   0,        6
00000C  1  0A DC DF 00          .BYTE   BRTABL,  CMDTBL,    KEYVAL,   DECODE
000010  1               
000010  1               ; Tipsy
000010  1  0B C8 00 06          .BYTE   FILL,    DISPLAY,   0,        6
000014  1  09 13 00 07          .BYTE   BRCHAR,  GO,        DECODE,   READY
000018  1  08 05 00 00          .BYTE   BRANCH,  PLUS,      0,        0
00001C  1  0B E0 FF 06          .BYTE   FILL,    BUFFER,    $FF,      6
000020  1  07 C2 E0 04          .BYTE   UNPACK,  TENTHS,    BUFFER,   4
000024  1  04 E0 00 05          .BYTE   HEXOUT,  BUFFER,    0,        5
000028  1  05 14 0B 00          .BYTE   TIMER,   20,        BLANK,    0
00002C  1  0B C8 00 04          .BYTE   FILL,    DISPLAY,   0,        4
000030  1  05 0A 0D 00          .BYTE   TIMER,   10,        ACCEPT,   0
000034  1  0B CC 40 02          .BYTE   FILL,    DISPLAY+4, DASH,     2
000038  1  0B DB 20 01          .BYTE   FILL,    CHAR,      $20,      1
00003C  1  0B C0 00 04          .BYTE   FILL,    THOUS,     0,        4
000040  1  02 E6 00 03          .BYTE   DECIN,   GUESS,     0,        3
000044  1  0D E0 E6 04          .BYTE   MATCH,   BUFFER,    GUESS,    4
000048  1  08 18 00 00          .BYTE   BRANCH,  NO,        0,        0
00004C  1  0D 52 C1 01          .BYTE   MATCH,   ZERO,      TENS,     1
000050  1  08 18 00 00          .BYTE   BRANCH,  NO,        0,        0
000054  1  07 C2 E4 02          .BYTE   UNPACK,  TENTHS,    BUFFER+4, 2
000058  1  04 E0 04 05          .BYTE   DECOUT,  BUFFER,    4,        5
00005C  1  08 05 00 00          .BYTE   BRANCH,  PLUS,      0,        0
000060  1  0B CC 53 02          .BYTE   FILL,    DISPLAY+4, $53,      2
000064  1  08 05 00 00          .BYTE   BRANCH,  PLUS,      0,        0
000068  1               
000068  1               ; Special Function Table
000068  1               ; JJT: Table was not shown in original listing. Unsure if it is needed
000068  1               ; since the program does not have any native routines.
000068  1               
000068  1  00 00 00 00          .RES    $0120-*, $00
00006C  1  00 00 00 00  
000070  1  00 00 00 00  
000120  1                                       ; Code Word
000120  1  00 00                .WORD   $0000   ; 10   Not used
000122  1  00 00                .WORD   $0000   ; 11   Not used
000124  1  00 00                .WORD   $0000   ; 12   Not used
000126  1  00 00                .WORD   $0000   ; 13   Not used
000128  1  00 00                .WORD   $0000   ; 14   Not used
00012A  1  00 00                .WORD   $0000   ; 15   Not used
00012C  1  00 00                .WORD   $0000   ; 16   Not used
00012E  1  00 00                .WORD   $0000   ; 17   Not used
00012E  1               
